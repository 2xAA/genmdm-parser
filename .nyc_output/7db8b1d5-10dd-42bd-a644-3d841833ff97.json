{"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/main.ts":{"path":"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/main.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":52}},"3":{"start":{"line":5,"column":26},"end":{"line":5,"column":60}},"4":{"start":{"line":6,"column":28},"end":{"line":6,"column":66}},"5":{"start":{"line":13,"column":24},"end":{"line":13,"column":64}},"6":{"start":{"line":14,"column":8},"end":{"line":33,"column":11}},"7":{"start":{"line":15,"column":36},"end":{"line":15,"column":44}},"8":{"start":{"line":16,"column":35},"end":{"line":16,"column":43}},"9":{"start":{"line":17,"column":35},"end":{"line":17,"column":43}},"10":{"start":{"line":18,"column":35},"end":{"line":18,"column":72}},"11":{"start":{"line":19,"column":49},"end":{"line":19,"column":101}},"12":{"start":{"line":20,"column":12},"end":{"line":20,"column":49}},"13":{"start":{"line":21,"column":12},"end":{"line":21,"column":75}},"14":{"start":{"line":22,"column":31},"end":{"line":25,"column":60}},"15":{"start":{"line":24,"column":39},"end":{"line":24,"column":62}},"16":{"start":{"line":25,"column":36},"end":{"line":25,"column":59}},"17":{"start":{"line":26,"column":12},"end":{"line":30,"column":13}},"18":{"start":{"line":26,"column":25},"end":{"line":26,"column":26}},"19":{"start":{"line":27,"column":34},"end":{"line":27,"column":65}},"20":{"start":{"line":28,"column":30},"end":{"line":28,"column":43}},"21":{"start":{"line":29,"column":16},"end":{"line":29,"column":50}},"22":{"start":{"line":31,"column":12},"end":{"line":31,"column":59}},"23":{"start":{"line":32,"column":12},"end":{"line":32,"column":34}},"24":{"start":{"line":36,"column":32},"end":{"line":36,"column":86}},"25":{"start":{"line":36,"column":64},"end":{"line":36,"column":85}},"26":{"start":{"line":37,"column":8},"end":{"line":37,"column":42}},"27":{"start":{"line":40,"column":27},"end":{"line":40,"column":64}},"28":{"start":{"line":41,"column":8},"end":{"line":41,"column":38}},"29":{"start":{"line":42,"column":8},"end":{"line":42,"column":39}},"30":{"start":{"line":43,"column":8},"end":{"line":55,"column":9}},"31":{"start":{"line":43,"column":21},"end":{"line":43,"column":22}},"32":{"start":{"line":44,"column":26},"end":{"line":44,"column":31}},"33":{"start":{"line":45,"column":12},"end":{"line":45,"column":63}},"34":{"start":{"line":46,"column":12},"end":{"line":46,"column":61}},"35":{"start":{"line":47,"column":12},"end":{"line":47,"column":71}},"36":{"start":{"line":48,"column":12},"end":{"line":48,"column":66}},"37":{"start":{"line":49,"column":12},"end":{"line":49,"column":61}},"38":{"start":{"line":50,"column":12},"end":{"line":50,"column":61}},"39":{"start":{"line":51,"column":12},"end":{"line":51,"column":61}},"40":{"start":{"line":52,"column":12},"end":{"line":52,"column":62}},"41":{"start":{"line":53,"column":12},"end":{"line":53,"column":62}},"42":{"start":{"line":54,"column":12},"end":{"line":54,"column":61}},"43":{"start":{"line":56,"column":8},"end":{"line":56,"column":26}},"44":{"start":{"line":62,"column":27},"end":{"line":62,"column":64}},"45":{"start":{"line":63,"column":8},"end":{"line":65,"column":9}},"46":{"start":{"line":64,"column":12},"end":{"line":64,"column":76}},"47":{"start":{"line":66,"column":8},"end":{"line":95,"column":9}},"48":{"start":{"line":66,"column":21},"end":{"line":66,"column":22}},"49":{"start":{"line":67,"column":26},"end":{"line":67,"column":31}},"50":{"start":{"line":68,"column":47},"end":{"line":68,"column":102}},"51":{"start":{"line":69,"column":25},"end":{"line":69,"column":39}},"52":{"start":{"line":72,"column":12},"end":{"line":80,"column":13}},"53":{"start":{"line":73,"column":16},"end":{"line":73,"column":27}},"54":{"start":{"line":75,"column":17},"end":{"line":80,"column":13}},"55":{"start":{"line":76,"column":16},"end":{"line":76,"column":36}},"56":{"start":{"line":78,"column":17},"end":{"line":80,"column":13}},"57":{"start":{"line":79,"column":16},"end":{"line":79,"column":53}},"58":{"start":{"line":81,"column":12},"end":{"line":81,"column":52}},"59":{"start":{"line":82,"column":12},"end":{"line":82,"column":56}},"60":{"start":{"line":83,"column":12},"end":{"line":83,"column":80}},"61":{"start":{"line":84,"column":42},"end":{"line":84,"column":100}},"62":{"start":{"line":85,"column":12},"end":{"line":85,"column":62}},"63":{"start":{"line":86,"column":12},"end":{"line":86,"column":52}},"64":{"start":{"line":87,"column":43},"end":{"line":87,"column":102}},"65":{"start":{"line":88,"column":12},"end":{"line":88,"column":57}},"66":{"start":{"line":89,"column":12},"end":{"line":89,"column":56}},"67":{"start":{"line":90,"column":12},"end":{"line":90,"column":68}},"68":{"start":{"line":91,"column":39},"end":{"line":91,"column":94}},"69":{"start":{"line":92,"column":12},"end":{"line":92,"column":54}},"70":{"start":{"line":93,"column":12},"end":{"line":93,"column":53}},"71":{"start":{"line":94,"column":12},"end":{"line":94,"column":67}},"72":{"start":{"line":96,"column":8},"end":{"line":96,"column":47}},"73":{"start":{"line":97,"column":8},"end":{"line":97,"column":48}},"74":{"start":{"line":98,"column":8},"end":{"line":98,"column":82}},"75":{"start":{"line":99,"column":8},"end":{"line":99,"column":26}},"76":{"start":{"line":102,"column":0},"end":{"line":102,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":21},"end":{"line":34,"column":5}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":27},"end":{"line":14,"column":28}},"loc":{"start":{"line":14,"column":38},"end":{"line":33,"column":9}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":24},"end":{"line":24,"column":25}},"loc":{"start":{"line":24,"column":39},"end":{"line":24,"column":62}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":21},"end":{"line":25,"column":22}},"loc":{"start":{"line":25,"column":36},"end":{"line":25,"column":59}},"line":25},"4":{"name":"(anonymous_4)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":30},"end":{"line":38,"column":5}},"line":35},"5":{"name":"(anonymous_5)","decl":{"start":{"line":36,"column":48},"end":{"line":36,"column":49}},"loc":{"start":{"line":36,"column":64},"end":{"line":36,"column":85}},"line":36},"6":{"name":"(anonymous_6)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":18},"end":{"line":57,"column":5}},"line":39},"7":{"name":"(anonymous_7)","decl":{"start":{"line":61,"column":4},"end":{"line":61,"column":5}},"loc":{"start":{"line":61,"column":18},"end":{"line":100,"column":5}},"line":61}},"branchMap":{"0":{"loc":{"start":{"line":63,"column":8},"end":{"line":65,"column":9}},"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":65,"column":9}},{"start":{"line":63,"column":8},"end":{"line":65,"column":9}}],"line":63},"1":{"loc":{"start":{"line":72,"column":12},"end":{"line":80,"column":13}},"type":"if","locations":[{"start":{"line":72,"column":12},"end":{"line":80,"column":13}},{"start":{"line":72,"column":12},"end":{"line":80,"column":13}}],"line":72},"2":{"loc":{"start":{"line":72,"column":16},"end":{"line":72,"column":58}},"type":"binary-expr","locations":[{"start":{"line":72,"column":16},"end":{"line":72,"column":26}},{"start":{"line":72,"column":30},"end":{"line":72,"column":42}},{"start":{"line":72,"column":46},"end":{"line":72,"column":58}}],"line":72},"3":{"loc":{"start":{"line":75,"column":17},"end":{"line":80,"column":13}},"type":"if","locations":[{"start":{"line":75,"column":17},"end":{"line":80,"column":13}},{"start":{"line":75,"column":17},"end":{"line":80,"column":13}}],"line":75},"4":{"loc":{"start":{"line":75,"column":21},"end":{"line":75,"column":45}},"type":"binary-expr","locations":[{"start":{"line":75,"column":21},"end":{"line":75,"column":31}},{"start":{"line":75,"column":35},"end":{"line":75,"column":45}}],"line":75},"5":{"loc":{"start":{"line":78,"column":17},"end":{"line":80,"column":13}},"type":"if","locations":[{"start":{"line":78,"column":17},"end":{"line":80,"column":13}},{"start":{"line":78,"column":17},"end":{"line":80,"column":13}}],"line":78}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":6,"6":6,"7":11,"8":11,"9":11,"10":11,"11":11,"12":11,"13":11,"14":11,"15":550,"16":539,"17":11,"18":11,"19":500,"20":500,"21":500,"22":10,"23":10,"24":1,"25":2,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":4,"33":4,"34":4,"35":4,"36":4,"37":4,"38":4,"39":4,"40":4,"41":4,"42":4,"43":1,"44":1,"45":1,"46":0,"47":1,"48":1,"49":4,"50":4,"51":4,"52":4,"53":2,"54":2,"55":1,"56":1,"57":1,"58":4,"59":4,"60":4,"61":4,"62":4,"63":4,"64":4,"65":4,"66":4,"67":4,"68":4,"69":4,"70":4,"71":4,"72":1,"73":1,"74":1,"75":1,"76":1},"f":{"0":6,"1":11,"2":550,"3":539,"4":1,"5":2,"6":1,"7":1},"b":{"0":[0,1],"1":[2,2],"2":[4,4,2],"3":[1,1],"4":[2,2],"5":[1,0]},"inputSourceMap":{"version":3,"file":"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/main.ts","sources":["/Users/twoxaa/projects/2xAA/genmdm-parser/lib/main.ts"],"names":[],"mappings":";;;AAAA,qDAAkD;AAClD,6DAKiC;AAEjC,MAAM,mBAAmB,GAAG,sCAAsC,CAAC;AACnE,yBAAyB;AACzB,IAAI;AACJ,kHAAkH;AAClH,wBAAwB;AAExB,MAAa,YAAY;IACvB,SAAS,CAAC,KAAa;QACrB,MAAM,OAAO,GAAG,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,CAAC;QAEzD,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,EAAkB,EAAE;YAC3C,MAAM,eAAe,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACjC,MAAM,cAAc,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,cAAc,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YAEhC,MAAM,cAAc,GAAG,IAAI,+BAAc,EAAE,CAAC;YAC5C,MAAM,4BAA4B,GAAG,MAAM,CAAC,IAAI,CAC9C,cAAc,CAAC,wBAAwB,CACxC,CAAC;YACF,4BAA4B,CAAC,KAAK,EAAE,CAAC;YAErC,cAAc,CAAC,eAAe,GAAG,QAAQ,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC;YAE/D,MAAM,UAAU,GAAa,cAAc;iBACxC,KAAK,CAAC,GAAG,CAAC;iBACV,MAAM,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC;iBAC9C,GAAG,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,CAAC;YAE/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,4BAA4B,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC5D,MAAM,SAAS,GAAG,4BAA4B,CAAC,CAAC,CAAC,CAAC;gBAClD,MAAM,KAAK,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;gBAE5B,cAAc,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;aACnC;YAED,cAAc,CAAC,cAAc,GAAG,cAAc,CAAC;YAE/C,OAAO,cAAc,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY,CAAC,WAA6B;QACxC,MAAM,eAAe,GAAa,WAAW,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,EAAE,CAC/D,UAAU,CAAC,QAAQ,EAAE,CACtB,CAAC;QAEF,OAAO,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,QAAQ,CAAC,GAAe;QACtB,MAAM,UAAU,GAAG,IAAI,+BAAc,EAAE,CAAC;QAExC,UAAU,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QAC9B,UAAU,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QAE/B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YAC1B,MAAM,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;YAEpB,UAAU,CAAC,KAAK,KAAK,UAAU,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACnD,UAAU,CAAC,KAAK,KAAK,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACjD,UAAU,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YAC3D,UAAU,CAAC,KAAK,KAAK,aAAa,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACtD,UAAU,CAAC,KAAK,KAAK,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACjD,UAAU,CAAC,KAAK,KAAK,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACjD,UAAU,CAAC,KAAK,KAAK,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACjD,UAAU,CAAC,KAAK,KAAK,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YAClD,UAAU,CAAC,KAAK,KAAK,QAAQ,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YAClD,UAAU,CAAC,KAAK,KAAK,OAAO,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;SAClD;QAED,OAAO,UAAU,CAAC;IACpB,CAAC;IAED;;OAEG;IACH,QAAQ,CAAC,GAAe;QACtB,MAAM,UAAU,GAAG,IAAI,+BAAc,EAAE,CAAC;QAExC,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;YACtB,MAAM,IAAI,KAAK,CAAC,kCAAkC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;SACjE;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YAC1B,MAAM,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;YAEpB,MAAM,CAAC,cAAc,EAAE,QAAQ,CAAC,GAAG,sCAAoB,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACzE,IAAI,MAAM,GAAG,cAAc,CAAC;YAE5B,+DAA+D;YAC/D,+DAA+D;YAC/D,IAAI,MAAM,GAAG,CAAC,IAAI,MAAM,KAAK,CAAC,IAAI,MAAM,KAAK,CAAC,EAAE;gBAC9C,MAAM,GAAG,CAAC,CAAC;aACZ;iBAAM,IAAI,MAAM,GAAG,CAAC,IAAI,MAAM,GAAG,CAAC,EAAE;gBACnC,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC;aACrB;iBAAM,IAAI,MAAM,GAAG,CAAC,EAAE;gBACrB,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;aACtC;YAED,UAAU,CAAC,KAAK,KAAK,QAAQ,CAAC,GAAG,MAAM,CAAC;YACxC,UAAU,CAAC,KAAK,KAAK,UAAU,CAAC,GAAG,QAAQ,CAAC;YAE5C,UAAU,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;YAEpE,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,GAAG,yCAAuB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;YACvE,UAAU,CAAC,KAAK,KAAK,aAAa,CAAC,GAAG,WAAW,CAAC;YAClD,UAAU,CAAC,KAAK,KAAK,QAAQ,CAAC,GAAG,MAAM,CAAC;YAExC,MAAM,CAAC,QAAQ,EAAE,UAAU,CAAC,GAAG,0CAAwB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;YACzE,UAAU,CAAC,KAAK,KAAK,WAAW,CAAC,GAAG,QAAQ,CAAC;YAC7C,UAAU,CAAC,KAAK,KAAK,QAAQ,CAAC,GAAG,UAAU,CAAC;YAE5C,UAAU,CAAC,KAAK,KAAK,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;YAExD,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,GAAG,sCAAoB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;YAEjE,UAAU,CAAC,KAAK,KAAK,SAAS,CAAC,GAAG,OAAO,CAAC;YAC1C,UAAU,CAAC,KAAK,KAAK,QAAQ,CAAC,GAAG,OAAO,CAAC;YAEzC,UAAU,CAAC,KAAK,KAAK,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;SACxD;QAED,UAAU,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QACvC,UAAU,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QACxC,UAAU,CAAC,cAAc,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QAE1E,OAAO,UAAU,CAAC;IACpB,CAAC;CACF;AA1HD,oCA0HC","sourcesContent":["import { GenmInstrument } from \"./GenmInstrument\";\nimport {\n  unpackDetuneMultiple,\n  unpackRateScalingAttack,\n  unpackAmEnableFirstDecay,\n  unpackSustainRelease,\n} from \"./utils/register-unpack\";\n\nconst genmInstrumentRegex = /(\\d{1,3}), ((?:\\d{1,3} ){49})(.*?);/g;\n// Captures three groups:\n// 0\n// 4 0 0 4 3 97 97 100 100 6 0 6 0 31 31 24 24 16 13 12 12 2 2 8 8 4 4 2 4 0 0 0 0 4 3 1 1 2 2 6 6 0 0 0 0 0 0 0 0\n// 01_capcom_logo_37.tfi\n\nexport class GenMDMParser {\n  parseGenm(input: string): GenmInstrument[] {\n    const matches = [...input.matchAll(genmInstrumentRegex)];\n\n    return matches.map((match): GenmInstrument => {\n      const instrumentIndex = match[1];\n      const instrumentData = match[2];\n      const instrumentName = match[3];\n\n      const genmInstrument = new GenmInstrument();\n      const genmInstrumentParameterOrder = Object.keys(\n        genmInstrument.genmInstrumentParameters\n      );\n      genmInstrumentParameterOrder.shift();\n\n      genmInstrument.instrumentIndex = parseInt(instrumentIndex, 10);\n\n      const parameters: number[] = instrumentData\n        .split(\" \")\n        .filter((parameter) => parameter.trim().length)\n        .map((parameter) => parseInt(parameter, 10));\n\n      for (let i = 0; i < genmInstrumentParameterOrder.length; i++) {\n        const parameter = genmInstrumentParameterOrder[i];\n        const value = parameters[i];\n\n        genmInstrument[parameter] = value;\n      }\n\n      genmInstrument.instrumentName = instrumentName;\n\n      return genmInstrument;\n    });\n  }\n\n  generateGenm(instruments: GenmInstrument[]): string {\n    const genmInstruments: string[] = instruments.map((instrument) =>\n      instrument.toString()\n    );\n\n    return genmInstruments.join(\"\\n\");\n  }\n\n  parseTfi(tfi: Uint8Array): GenmInstrument {\n    const instrument = new GenmInstrument();\n\n    instrument.algorithm = tfi[0];\n    instrument.fmFeedback = tfi[1];\n\n    for (let i = 0; i < 4; ++i) {\n      const index = i + 1;\n\n      instrument[`op${index}Multiple`] = tfi[2 + 10 * i];\n      instrument[`op${index}Detune`] = tfi[3 + 10 * i];\n      instrument[`op${index}TotalLevel`] = 127 - tfi[4 + 10 * i];\n      instrument[`op${index}RateScaling`] = tfi[5 + 10 * i];\n      instrument[`op${index}Attack`] = tfi[6 + 10 * i];\n      instrument[`op${index}Decay1`] = tfi[7 + 10 * i];\n      instrument[`op${index}Decay2`] = tfi[8 + 10 * i];\n      instrument[`op${index}Release`] = tfi[9 + 10 * i];\n      instrument[`op${index}Level2`] = tfi[10 + 10 * i];\n      instrument[`op${index}SSGEG`] = tfi[11 + 10 * i];\n    }\n\n    return instrument;\n  }\n\n  /**\n   * Huge help: https://github.com/Wohlstand/OPN2BankEditor/blob/master/src/FileFormats/format_gens_y12.cpp\n   */\n  parseY12(y12: Uint8Array): GenmInstrument {\n    const instrument = new GenmInstrument();\n\n    if (y12.length !== 128) {\n      throw new Error(`Y12 file is not of length 128: ${y12.length}`);\n    }\n\n    for (let i = 0; i < 4; ++i) {\n      const index = i + 1;\n\n      const [detuneRegister, multiple] = unpackDetuneMultiple(y12[0 + i * 16]);\n      let detune = detuneRegister;\n\n      // converts from register detune value to tfi/genm detune value\n      // register value is 0,4: no change, 1-3: +1 - +3, 5-7: -1 - -3\n      if (detune > 6 || detune === 0 || detune === 4) {\n        detune = 3;\n      } else if (detune > 0 && detune < 4) {\n        detune = detune + 4;\n      } else if (detune > 4) {\n        detune = detune - (7 - (detune - 4));\n      }\n\n      instrument[`op${index}Detune`] = detune;\n      instrument[`op${index}Multiple`] = multiple;\n\n      instrument[`op${index}TotalLevel`] = 127 - (y12[1 + 16 * i] & 0x7f);\n\n      const [rateScaling, attack] = unpackRateScalingAttack(y12[2 + 16 * i]);\n      instrument[`op${index}RateScaling`] = rateScaling;\n      instrument[`op${index}Attack`] = attack;\n\n      const [amEnable, firstDecay] = unpackAmEnableFirstDecay(y12[3 + 16 * i]);\n      instrument[`op${index}LfoEnable`] = amEnable;\n      instrument[`op${index}Decay1`] = firstDecay;\n\n      instrument[`op${index}Decay2`] = y12[4 + 16 * i] & 0x1f;\n\n      const [sustain, release] = unpackSustainRelease(y12[5 + 16 * i]);\n\n      instrument[`op${index}Release`] = release;\n      instrument[`op${index}Level2`] = sustain;\n\n      instrument[`op${index}SSGEG`] = y12[8 + 16 * i] & 0x0f;\n    }\n\n    instrument.algorithm = y12[4 * 16 + 0];\n    instrument.fmFeedback = y12[4 * 16 + 1];\n    instrument.instrumentName = String.fromCharCode(...y12.slice(5 * 16, 16));\n\n    return instrument;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9adfab04fe43f2fd7a6e7c6bdc3938565a68e571","contentHash":"38552de6720d11ba1df9953c22d4306e4ab7943839e71fbcfd32b37685a0a5b8"},"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/GenmInstrument.ts":{"path":"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/GenmInstrument.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":60}},"3":{"start":{"line":5,"column":33},"end":{"line":56,"column":1}},"4":{"start":{"line":58,"column":4},"end":{"line":60,"column":5}},"5":{"start":{"line":59,"column":8},"end":{"line":59,"column":128}},"6":{"start":{"line":61,"column":4},"end":{"line":61,"column":17}},"7":{"start":{"line":65,"column":8},"end":{"line":65,"column":29}},"8":{"start":{"line":68,"column":27},"end":{"line":68,"column":69}},"9":{"start":{"line":69,"column":8},"end":{"line":69,"column":27}},"10":{"start":{"line":70,"column":21},"end":{"line":70,"column":23}},"11":{"start":{"line":71,"column":8},"end":{"line":71,"column":46}},"12":{"start":{"line":72,"column":8},"end":{"line":74,"column":11}},"13":{"start":{"line":73,"column":12},"end":{"line":73,"column":86}},"14":{"start":{"line":75,"column":8},"end":{"line":75,"column":45}},"15":{"start":{"line":76,"column":8},"end":{"line":76,"column":22}},"16":{"start":{"line":79,"column":8},"end":{"line":79,"column":31}},"17":{"start":{"line":103,"column":24},"end":{"line":103,"column":42}},"18":{"start":{"line":105,"column":8},"end":{"line":105,"column":36}},"19":{"start":{"line":107,"column":8},"end":{"line":107,"column":37}},"20":{"start":{"line":108,"column":8},"end":{"line":120,"column":9}},"21":{"start":{"line":108,"column":21},"end":{"line":108,"column":22}},"22":{"start":{"line":109,"column":26},"end":{"line":109,"column":31}},"23":{"start":{"line":110,"column":12},"end":{"line":110,"column":69}},"24":{"start":{"line":111,"column":12},"end":{"line":111,"column":67}},"25":{"start":{"line":112,"column":12},"end":{"line":112,"column":77}},"26":{"start":{"line":113,"column":12},"end":{"line":113,"column":72}},"27":{"start":{"line":114,"column":12},"end":{"line":114,"column":67}},"28":{"start":{"line":115,"column":12},"end":{"line":115,"column":67}},"29":{"start":{"line":116,"column":12},"end":{"line":116,"column":67}},"30":{"start":{"line":117,"column":12},"end":{"line":117,"column":68}},"31":{"start":{"line":118,"column":12},"end":{"line":118,"column":68}},"32":{"start":{"line":119,"column":12},"end":{"line":119,"column":67}},"33":{"start":{"line":121,"column":8},"end":{"line":121,"column":23}},"34":{"start":{"line":149,"column":24},"end":{"line":149,"column":42}},"35":{"start":{"line":151,"column":8},"end":{"line":151,"column":29}},"36":{"start":{"line":153,"column":8},"end":{"line":153,"column":29}},"37":{"start":{"line":155,"column":8},"end":{"line":155,"column":29}},"38":{"start":{"line":156,"column":8},"end":{"line":156,"column":35}},"39":{"start":{"line":157,"column":8},"end":{"line":157,"column":40}},"40":{"start":{"line":158,"column":8},"end":{"line":158,"column":39}},"41":{"start":{"line":159,"column":8},"end":{"line":159,"column":35}},"42":{"start":{"line":160,"column":8},"end":{"line":173,"column":9}},"43":{"start":{"line":160,"column":21},"end":{"line":160,"column":22}},"44":{"start":{"line":161,"column":26},"end":{"line":161,"column":31}},"45":{"start":{"line":162,"column":12},"end":{"line":162,"column":72}},"46":{"start":{"line":163,"column":12},"end":{"line":163,"column":80}},"47":{"start":{"line":164,"column":12},"end":{"line":164,"column":70}},"48":{"start":{"line":165,"column":12},"end":{"line":165,"column":70}},"49":{"start":{"line":166,"column":12},"end":{"line":166,"column":70}},"50":{"start":{"line":167,"column":12},"end":{"line":167,"column":71}},"51":{"start":{"line":168,"column":12},"end":{"line":168,"column":73}},"52":{"start":{"line":169,"column":12},"end":{"line":169,"column":75}},"53":{"start":{"line":170,"column":12},"end":{"line":170,"column":70}},"54":{"start":{"line":171,"column":12},"end":{"line":171,"column":70}},"55":{"start":{"line":172,"column":12},"end":{"line":172,"column":69}},"56":{"start":{"line":174,"column":8},"end":{"line":174,"column":23}},"57":{"start":{"line":177,"column":20},"end":{"line":177,"column":29}},"58":{"start":{"line":178,"column":27},"end":{"line":178,"column":69}},"59":{"start":{"line":179,"column":8},"end":{"line":179,"column":27}},"60":{"start":{"line":180,"column":8},"end":{"line":187,"column":11}},"61":{"start":{"line":182,"column":23},"end":{"line":182,"column":124}},"62":{"start":{"line":183,"column":25},"end":{"line":183,"column":74}},"63":{"start":{"line":184,"column":12},"end":{"line":186,"column":13}},"64":{"start":{"line":185,"column":16},"end":{"line":185,"column":91}},"65":{"start":{"line":188,"column":8},"end":{"line":188,"column":19}},"66":{"start":{"line":191,"column":8},"end":{"line":191,"column":40}},"67":{"start":{"line":194,"column":8},"end":{"line":194,"column":46}},"68":{"start":{"line":197,"column":8},"end":{"line":197,"column":46}},"69":{"start":{"line":200,"column":8},"end":{"line":200,"column":47}},"70":{"start":{"line":203,"column":8},"end":{"line":203,"column":79}},"71":{"start":{"line":206,"column":8},"end":{"line":206,"column":41}},"72":{"start":{"line":209,"column":8},"end":{"line":209,"column":71}},"73":{"start":{"line":212,"column":8},"end":{"line":212,"column":37}},"74":{"start":{"line":215,"column":8},"end":{"line":215,"column":59}},"75":{"start":{"line":218,"column":8},"end":{"line":218,"column":37}},"76":{"start":{"line":221,"column":8},"end":{"line":221,"column":59}},"77":{"start":{"line":224,"column":8},"end":{"line":224,"column":42}},"78":{"start":{"line":227,"column":8},"end":{"line":227,"column":74}},"79":{"start":{"line":230,"column":8},"end":{"line":230,"column":39}},"80":{"start":{"line":233,"column":8},"end":{"line":233,"column":65}},"81":{"start":{"line":236,"column":8},"end":{"line":236,"column":45}},"82":{"start":{"line":239,"column":8},"end":{"line":239,"column":83}},"83":{"start":{"line":242,"column":8},"end":{"line":242,"column":45}},"84":{"start":{"line":245,"column":8},"end":{"line":245,"column":83}},"85":{"start":{"line":248,"column":8},"end":{"line":248,"column":45}},"86":{"start":{"line":251,"column":8},"end":{"line":251,"column":83}},"87":{"start":{"line":254,"column":8},"end":{"line":254,"column":45}},"88":{"start":{"line":257,"column":8},"end":{"line":257,"column":83}},"89":{"start":{"line":260,"column":8},"end":{"line":260,"column":41}},"90":{"start":{"line":263,"column":8},"end":{"line":263,"column":71}},"91":{"start":{"line":266,"column":8},"end":{"line":266,"column":41}},"92":{"start":{"line":269,"column":8},"end":{"line":269,"column":71}},"93":{"start":{"line":272,"column":8},"end":{"line":272,"column":41}},"94":{"start":{"line":275,"column":8},"end":{"line":275,"column":71}},"95":{"start":{"line":278,"column":8},"end":{"line":278,"column":41}},"96":{"start":{"line":281,"column":8},"end":{"line":281,"column":71}},"97":{"start":{"line":284,"column":8},"end":{"line":284,"column":41}},"98":{"start":{"line":287,"column":8},"end":{"line":287,"column":71}},"99":{"start":{"line":290,"column":8},"end":{"line":290,"column":41}},"100":{"start":{"line":293,"column":8},"end":{"line":293,"column":71}},"101":{"start":{"line":296,"column":8},"end":{"line":296,"column":41}},"102":{"start":{"line":299,"column":8},"end":{"line":299,"column":71}},"103":{"start":{"line":302,"column":8},"end":{"line":302,"column":41}},"104":{"start":{"line":305,"column":8},"end":{"line":305,"column":71}},"105":{"start":{"line":308,"column":8},"end":{"line":308,"column":41}},"106":{"start":{"line":311,"column":8},"end":{"line":311,"column":71}},"107":{"start":{"line":314,"column":8},"end":{"line":314,"column":41}},"108":{"start":{"line":317,"column":8},"end":{"line":317,"column":71}},"109":{"start":{"line":320,"column":8},"end":{"line":320,"column":41}},"110":{"start":{"line":323,"column":8},"end":{"line":323,"column":71}},"111":{"start":{"line":326,"column":8},"end":{"line":326,"column":41}},"112":{"start":{"line":329,"column":8},"end":{"line":329,"column":71}},"113":{"start":{"line":332,"column":8},"end":{"line":332,"column":41}},"114":{"start":{"line":335,"column":8},"end":{"line":335,"column":71}},"115":{"start":{"line":338,"column":8},"end":{"line":338,"column":41}},"116":{"start":{"line":341,"column":8},"end":{"line":341,"column":71}},"117":{"start":{"line":344,"column":8},"end":{"line":344,"column":41}},"118":{"start":{"line":347,"column":8},"end":{"line":347,"column":71}},"119":{"start":{"line":350,"column":8},"end":{"line":350,"column":41}},"120":{"start":{"line":353,"column":8},"end":{"line":353,"column":71}},"121":{"start":{"line":356,"column":8},"end":{"line":356,"column":43}},"122":{"start":{"line":359,"column":8},"end":{"line":359,"column":77}},"123":{"start":{"line":362,"column":8},"end":{"line":362,"column":43}},"124":{"start":{"line":365,"column":8},"end":{"line":365,"column":77}},"125":{"start":{"line":368,"column":8},"end":{"line":368,"column":43}},"126":{"start":{"line":371,"column":8},"end":{"line":371,"column":77}},"127":{"start":{"line":374,"column":8},"end":{"line":374,"column":43}},"128":{"start":{"line":377,"column":8},"end":{"line":377,"column":77}},"129":{"start":{"line":380,"column":8},"end":{"line":380,"column":46}},"130":{"start":{"line":383,"column":8},"end":{"line":383,"column":86}},"131":{"start":{"line":386,"column":8},"end":{"line":386,"column":46}},"132":{"start":{"line":389,"column":8},"end":{"line":389,"column":86}},"133":{"start":{"line":392,"column":8},"end":{"line":392,"column":46}},"134":{"start":{"line":395,"column":8},"end":{"line":395,"column":86}},"135":{"start":{"line":398,"column":8},"end":{"line":398,"column":46}},"136":{"start":{"line":401,"column":8},"end":{"line":401,"column":86}},"137":{"start":{"line":404,"column":8},"end":{"line":404,"column":41}},"138":{"start":{"line":407,"column":8},"end":{"line":407,"column":71}},"139":{"start":{"line":410,"column":8},"end":{"line":410,"column":41}},"140":{"start":{"line":413,"column":8},"end":{"line":413,"column":71}},"141":{"start":{"line":416,"column":8},"end":{"line":416,"column":41}},"142":{"start":{"line":419,"column":8},"end":{"line":419,"column":71}},"143":{"start":{"line":422,"column":8},"end":{"line":422,"column":41}},"144":{"start":{"line":425,"column":8},"end":{"line":425,"column":71}},"145":{"start":{"line":428,"column":8},"end":{"line":428,"column":42}},"146":{"start":{"line":431,"column":8},"end":{"line":431,"column":74}},"147":{"start":{"line":434,"column":8},"end":{"line":434,"column":42}},"148":{"start":{"line":437,"column":8},"end":{"line":437,"column":74}},"149":{"start":{"line":440,"column":8},"end":{"line":440,"column":42}},"150":{"start":{"line":443,"column":8},"end":{"line":443,"column":74}},"151":{"start":{"line":446,"column":8},"end":{"line":446,"column":42}},"152":{"start":{"line":449,"column":8},"end":{"line":449,"column":74}},"153":{"start":{"line":452,"column":8},"end":{"line":452,"column":44}},"154":{"start":{"line":455,"column":8},"end":{"line":455,"column":80}},"155":{"start":{"line":458,"column":8},"end":{"line":458,"column":44}},"156":{"start":{"line":461,"column":8},"end":{"line":461,"column":80}},"157":{"start":{"line":464,"column":8},"end":{"line":464,"column":44}},"158":{"start":{"line":467,"column":8},"end":{"line":467,"column":80}},"159":{"start":{"line":470,"column":8},"end":{"line":470,"column":44}},"160":{"start":{"line":473,"column":8},"end":{"line":473,"column":80}},"161":{"start":{"line":476,"column":8},"end":{"line":476,"column":40}},"162":{"start":{"line":479,"column":8},"end":{"line":479,"column":68}},"163":{"start":{"line":482,"column":8},"end":{"line":482,"column":40}},"164":{"start":{"line":485,"column":8},"end":{"line":485,"column":68}},"165":{"start":{"line":488,"column":8},"end":{"line":488,"column":40}},"166":{"start":{"line":491,"column":8},"end":{"line":491,"column":68}},"167":{"start":{"line":494,"column":8},"end":{"line":494,"column":40}},"168":{"start":{"line":497,"column":8},"end":{"line":497,"column":68}},"169":{"start":{"line":500,"column":0},"end":{"line":500,"column":40}}},"fnMap":{"0":{"name":"rangeCheck","decl":{"start":{"line":57,"column":9},"end":{"line":57,"column":19}},"loc":{"start":{"line":57,"column":38},"end":{"line":62,"column":1}},"line":57},"1":{"name":"(anonymous_1)","decl":{"start":{"line":64,"column":4},"end":{"line":64,"column":5}},"loc":{"start":{"line":64,"column":18},"end":{"line":66,"column":5}},"line":64},"2":{"name":"(anonymous_2)","decl":{"start":{"line":67,"column":4},"end":{"line":67,"column":5}},"loc":{"start":{"line":67,"column":15},"end":{"line":77,"column":5}},"line":67},"3":{"name":"(anonymous_3)","decl":{"start":{"line":72,"column":27},"end":{"line":72,"column":28}},"loc":{"start":{"line":72,"column":49},"end":{"line":74,"column":9}},"line":72},"4":{"name":"(anonymous_4)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":13},"end":{"line":80,"column":5}},"line":78},"5":{"name":"(anonymous_5)","decl":{"start":{"line":102,"column":4},"end":{"line":102,"column":5}},"loc":{"start":{"line":102,"column":12},"end":{"line":122,"column":5}},"line":102},"6":{"name":"(anonymous_6)","decl":{"start":{"line":148,"column":4},"end":{"line":148,"column":5}},"loc":{"start":{"line":148,"column":12},"end":{"line":175,"column":5}},"line":148},"7":{"name":"(anonymous_7)","decl":{"start":{"line":176,"column":4},"end":{"line":176,"column":5}},"loc":{"start":{"line":176,"column":15},"end":{"line":189,"column":5}},"line":176},"8":{"name":"(anonymous_8)","decl":{"start":{"line":180,"column":27},"end":{"line":180,"column":28}},"loc":{"start":{"line":180,"column":42},"end":{"line":187,"column":9}},"line":180},"9":{"name":"(anonymous_9)","decl":{"start":{"line":190,"column":4},"end":{"line":190,"column":5}},"loc":{"start":{"line":190,"column":35},"end":{"line":192,"column":5}},"line":190},"10":{"name":"(anonymous_10)","decl":{"start":{"line":193,"column":4},"end":{"line":193,"column":5}},"loc":{"start":{"line":193,"column":25},"end":{"line":195,"column":5}},"line":193},"11":{"name":"(anonymous_11)","decl":{"start":{"line":196,"column":4},"end":{"line":196,"column":5}},"loc":{"start":{"line":196,"column":29},"end":{"line":198,"column":5}},"line":196},"12":{"name":"(anonymous_12)","decl":{"start":{"line":199,"column":4},"end":{"line":199,"column":5}},"loc":{"start":{"line":199,"column":26},"end":{"line":201,"column":5}},"line":199},"13":{"name":"(anonymous_13)","decl":{"start":{"line":202,"column":4},"end":{"line":202,"column":5}},"loc":{"start":{"line":202,"column":31},"end":{"line":204,"column":5}},"line":202},"14":{"name":"(anonymous_14)","decl":{"start":{"line":205,"column":4},"end":{"line":205,"column":5}},"loc":{"start":{"line":205,"column":20},"end":{"line":207,"column":5}},"line":205},"15":{"name":"(anonymous_15)","decl":{"start":{"line":208,"column":4},"end":{"line":208,"column":5}},"loc":{"start":{"line":208,"column":29},"end":{"line":210,"column":5}},"line":208},"16":{"name":"(anonymous_16)","decl":{"start":{"line":211,"column":4},"end":{"line":211,"column":5}},"loc":{"start":{"line":211,"column":16},"end":{"line":213,"column":5}},"line":211},"17":{"name":"(anonymous_17)","decl":{"start":{"line":214,"column":4},"end":{"line":214,"column":5}},"loc":{"start":{"line":214,"column":21},"end":{"line":216,"column":5}},"line":214},"18":{"name":"(anonymous_18)","decl":{"start":{"line":217,"column":4},"end":{"line":217,"column":5}},"loc":{"start":{"line":217,"column":16},"end":{"line":219,"column":5}},"line":217},"19":{"name":"(anonymous_19)","decl":{"start":{"line":220,"column":4},"end":{"line":220,"column":5}},"loc":{"start":{"line":220,"column":21},"end":{"line":222,"column":5}},"line":220},"20":{"name":"(anonymous_20)","decl":{"start":{"line":223,"column":4},"end":{"line":223,"column":5}},"loc":{"start":{"line":223,"column":21},"end":{"line":225,"column":5}},"line":223},"21":{"name":"(anonymous_21)","decl":{"start":{"line":226,"column":4},"end":{"line":226,"column":5}},"loc":{"start":{"line":226,"column":31},"end":{"line":228,"column":5}},"line":226},"22":{"name":"(anonymous_22)","decl":{"start":{"line":229,"column":4},"end":{"line":229,"column":5}},"loc":{"start":{"line":229,"column":18},"end":{"line":231,"column":5}},"line":229},"23":{"name":"(anonymous_23)","decl":{"start":{"line":232,"column":4},"end":{"line":232,"column":5}},"loc":{"start":{"line":232,"column":25},"end":{"line":234,"column":5}},"line":232},"24":{"name":"(anonymous_24)","decl":{"start":{"line":235,"column":4},"end":{"line":235,"column":5}},"loc":{"start":{"line":235,"column":24},"end":{"line":237,"column":5}},"line":235},"25":{"name":"(anonymous_25)","decl":{"start":{"line":238,"column":4},"end":{"line":238,"column":5}},"loc":{"start":{"line":238,"column":37},"end":{"line":240,"column":5}},"line":238},"26":{"name":"(anonymous_26)","decl":{"start":{"line":241,"column":4},"end":{"line":241,"column":5}},"loc":{"start":{"line":241,"column":24},"end":{"line":243,"column":5}},"line":241},"27":{"name":"(anonymous_27)","decl":{"start":{"line":244,"column":4},"end":{"line":244,"column":5}},"loc":{"start":{"line":244,"column":37},"end":{"line":246,"column":5}},"line":244},"28":{"name":"(anonymous_28)","decl":{"start":{"line":247,"column":4},"end":{"line":247,"column":5}},"loc":{"start":{"line":247,"column":24},"end":{"line":249,"column":5}},"line":247},"29":{"name":"(anonymous_29)","decl":{"start":{"line":250,"column":4},"end":{"line":250,"column":5}},"loc":{"start":{"line":250,"column":37},"end":{"line":252,"column":5}},"line":250},"30":{"name":"(anonymous_30)","decl":{"start":{"line":253,"column":4},"end":{"line":253,"column":5}},"loc":{"start":{"line":253,"column":24},"end":{"line":255,"column":5}},"line":253},"31":{"name":"(anonymous_31)","decl":{"start":{"line":256,"column":4},"end":{"line":256,"column":5}},"loc":{"start":{"line":256,"column":37},"end":{"line":258,"column":5}},"line":256},"32":{"name":"(anonymous_32)","decl":{"start":{"line":259,"column":4},"end":{"line":259,"column":5}},"loc":{"start":{"line":259,"column":20},"end":{"line":261,"column":5}},"line":259},"33":{"name":"(anonymous_33)","decl":{"start":{"line":262,"column":4},"end":{"line":262,"column":5}},"loc":{"start":{"line":262,"column":29},"end":{"line":264,"column":5}},"line":262},"34":{"name":"(anonymous_34)","decl":{"start":{"line":265,"column":4},"end":{"line":265,"column":5}},"loc":{"start":{"line":265,"column":20},"end":{"line":267,"column":5}},"line":265},"35":{"name":"(anonymous_35)","decl":{"start":{"line":268,"column":4},"end":{"line":268,"column":5}},"loc":{"start":{"line":268,"column":29},"end":{"line":270,"column":5}},"line":268},"36":{"name":"(anonymous_36)","decl":{"start":{"line":271,"column":4},"end":{"line":271,"column":5}},"loc":{"start":{"line":271,"column":20},"end":{"line":273,"column":5}},"line":271},"37":{"name":"(anonymous_37)","decl":{"start":{"line":274,"column":4},"end":{"line":274,"column":5}},"loc":{"start":{"line":274,"column":29},"end":{"line":276,"column":5}},"line":274},"38":{"name":"(anonymous_38)","decl":{"start":{"line":277,"column":4},"end":{"line":277,"column":5}},"loc":{"start":{"line":277,"column":20},"end":{"line":279,"column":5}},"line":277},"39":{"name":"(anonymous_39)","decl":{"start":{"line":280,"column":4},"end":{"line":280,"column":5}},"loc":{"start":{"line":280,"column":29},"end":{"line":282,"column":5}},"line":280},"40":{"name":"(anonymous_40)","decl":{"start":{"line":283,"column":4},"end":{"line":283,"column":5}},"loc":{"start":{"line":283,"column":20},"end":{"line":285,"column":5}},"line":283},"41":{"name":"(anonymous_41)","decl":{"start":{"line":286,"column":4},"end":{"line":286,"column":5}},"loc":{"start":{"line":286,"column":29},"end":{"line":288,"column":5}},"line":286},"42":{"name":"(anonymous_42)","decl":{"start":{"line":289,"column":4},"end":{"line":289,"column":5}},"loc":{"start":{"line":289,"column":20},"end":{"line":291,"column":5}},"line":289},"43":{"name":"(anonymous_43)","decl":{"start":{"line":292,"column":4},"end":{"line":292,"column":5}},"loc":{"start":{"line":292,"column":29},"end":{"line":294,"column":5}},"line":292},"44":{"name":"(anonymous_44)","decl":{"start":{"line":295,"column":4},"end":{"line":295,"column":5}},"loc":{"start":{"line":295,"column":20},"end":{"line":297,"column":5}},"line":295},"45":{"name":"(anonymous_45)","decl":{"start":{"line":298,"column":4},"end":{"line":298,"column":5}},"loc":{"start":{"line":298,"column":29},"end":{"line":300,"column":5}},"line":298},"46":{"name":"(anonymous_46)","decl":{"start":{"line":301,"column":4},"end":{"line":301,"column":5}},"loc":{"start":{"line":301,"column":20},"end":{"line":303,"column":5}},"line":301},"47":{"name":"(anonymous_47)","decl":{"start":{"line":304,"column":4},"end":{"line":304,"column":5}},"loc":{"start":{"line":304,"column":29},"end":{"line":306,"column":5}},"line":304},"48":{"name":"(anonymous_48)","decl":{"start":{"line":307,"column":4},"end":{"line":307,"column":5}},"loc":{"start":{"line":307,"column":20},"end":{"line":309,"column":5}},"line":307},"49":{"name":"(anonymous_49)","decl":{"start":{"line":310,"column":4},"end":{"line":310,"column":5}},"loc":{"start":{"line":310,"column":29},"end":{"line":312,"column":5}},"line":310},"50":{"name":"(anonymous_50)","decl":{"start":{"line":313,"column":4},"end":{"line":313,"column":5}},"loc":{"start":{"line":313,"column":20},"end":{"line":315,"column":5}},"line":313},"51":{"name":"(anonymous_51)","decl":{"start":{"line":316,"column":4},"end":{"line":316,"column":5}},"loc":{"start":{"line":316,"column":29},"end":{"line":318,"column":5}},"line":316},"52":{"name":"(anonymous_52)","decl":{"start":{"line":319,"column":4},"end":{"line":319,"column":5}},"loc":{"start":{"line":319,"column":20},"end":{"line":321,"column":5}},"line":319},"53":{"name":"(anonymous_53)","decl":{"start":{"line":322,"column":4},"end":{"line":322,"column":5}},"loc":{"start":{"line":322,"column":29},"end":{"line":324,"column":5}},"line":322},"54":{"name":"(anonymous_54)","decl":{"start":{"line":325,"column":4},"end":{"line":325,"column":5}},"loc":{"start":{"line":325,"column":20},"end":{"line":327,"column":5}},"line":325},"55":{"name":"(anonymous_55)","decl":{"start":{"line":328,"column":4},"end":{"line":328,"column":5}},"loc":{"start":{"line":328,"column":29},"end":{"line":330,"column":5}},"line":328},"56":{"name":"(anonymous_56)","decl":{"start":{"line":331,"column":4},"end":{"line":331,"column":5}},"loc":{"start":{"line":331,"column":20},"end":{"line":333,"column":5}},"line":331},"57":{"name":"(anonymous_57)","decl":{"start":{"line":334,"column":4},"end":{"line":334,"column":5}},"loc":{"start":{"line":334,"column":29},"end":{"line":336,"column":5}},"line":334},"58":{"name":"(anonymous_58)","decl":{"start":{"line":337,"column":4},"end":{"line":337,"column":5}},"loc":{"start":{"line":337,"column":20},"end":{"line":339,"column":5}},"line":337},"59":{"name":"(anonymous_59)","decl":{"start":{"line":340,"column":4},"end":{"line":340,"column":5}},"loc":{"start":{"line":340,"column":29},"end":{"line":342,"column":5}},"line":340},"60":{"name":"(anonymous_60)","decl":{"start":{"line":343,"column":4},"end":{"line":343,"column":5}},"loc":{"start":{"line":343,"column":20},"end":{"line":345,"column":5}},"line":343},"61":{"name":"(anonymous_61)","decl":{"start":{"line":346,"column":4},"end":{"line":346,"column":5}},"loc":{"start":{"line":346,"column":29},"end":{"line":348,"column":5}},"line":346},"62":{"name":"(anonymous_62)","decl":{"start":{"line":349,"column":4},"end":{"line":349,"column":5}},"loc":{"start":{"line":349,"column":20},"end":{"line":351,"column":5}},"line":349},"63":{"name":"(anonymous_63)","decl":{"start":{"line":352,"column":4},"end":{"line":352,"column":5}},"loc":{"start":{"line":352,"column":29},"end":{"line":354,"column":5}},"line":352},"64":{"name":"(anonymous_64)","decl":{"start":{"line":355,"column":4},"end":{"line":355,"column":5}},"loc":{"start":{"line":355,"column":22},"end":{"line":357,"column":5}},"line":355},"65":{"name":"(anonymous_65)","decl":{"start":{"line":358,"column":4},"end":{"line":358,"column":5}},"loc":{"start":{"line":358,"column":33},"end":{"line":360,"column":5}},"line":358},"66":{"name":"(anonymous_66)","decl":{"start":{"line":361,"column":4},"end":{"line":361,"column":5}},"loc":{"start":{"line":361,"column":22},"end":{"line":363,"column":5}},"line":361},"67":{"name":"(anonymous_67)","decl":{"start":{"line":364,"column":4},"end":{"line":364,"column":5}},"loc":{"start":{"line":364,"column":33},"end":{"line":366,"column":5}},"line":364},"68":{"name":"(anonymous_68)","decl":{"start":{"line":367,"column":4},"end":{"line":367,"column":5}},"loc":{"start":{"line":367,"column":22},"end":{"line":369,"column":5}},"line":367},"69":{"name":"(anonymous_69)","decl":{"start":{"line":370,"column":4},"end":{"line":370,"column":5}},"loc":{"start":{"line":370,"column":33},"end":{"line":372,"column":5}},"line":370},"70":{"name":"(anonymous_70)","decl":{"start":{"line":373,"column":4},"end":{"line":373,"column":5}},"loc":{"start":{"line":373,"column":22},"end":{"line":375,"column":5}},"line":373},"71":{"name":"(anonymous_71)","decl":{"start":{"line":376,"column":4},"end":{"line":376,"column":5}},"loc":{"start":{"line":376,"column":33},"end":{"line":378,"column":5}},"line":376},"72":{"name":"(anonymous_72)","decl":{"start":{"line":379,"column":4},"end":{"line":379,"column":5}},"loc":{"start":{"line":379,"column":25},"end":{"line":381,"column":5}},"line":379},"73":{"name":"(anonymous_73)","decl":{"start":{"line":382,"column":4},"end":{"line":382,"column":5}},"loc":{"start":{"line":382,"column":39},"end":{"line":384,"column":5}},"line":382},"74":{"name":"(anonymous_74)","decl":{"start":{"line":385,"column":4},"end":{"line":385,"column":5}},"loc":{"start":{"line":385,"column":25},"end":{"line":387,"column":5}},"line":385},"75":{"name":"(anonymous_75)","decl":{"start":{"line":388,"column":4},"end":{"line":388,"column":5}},"loc":{"start":{"line":388,"column":39},"end":{"line":390,"column":5}},"line":388},"76":{"name":"(anonymous_76)","decl":{"start":{"line":391,"column":4},"end":{"line":391,"column":5}},"loc":{"start":{"line":391,"column":25},"end":{"line":393,"column":5}},"line":391},"77":{"name":"(anonymous_77)","decl":{"start":{"line":394,"column":4},"end":{"line":394,"column":5}},"loc":{"start":{"line":394,"column":39},"end":{"line":396,"column":5}},"line":394},"78":{"name":"(anonymous_78)","decl":{"start":{"line":397,"column":4},"end":{"line":397,"column":5}},"loc":{"start":{"line":397,"column":25},"end":{"line":399,"column":5}},"line":397},"79":{"name":"(anonymous_79)","decl":{"start":{"line":400,"column":4},"end":{"line":400,"column":5}},"loc":{"start":{"line":400,"column":39},"end":{"line":402,"column":5}},"line":400},"80":{"name":"(anonymous_80)","decl":{"start":{"line":403,"column":4},"end":{"line":403,"column":5}},"loc":{"start":{"line":403,"column":20},"end":{"line":405,"column":5}},"line":403},"81":{"name":"(anonymous_81)","decl":{"start":{"line":406,"column":4},"end":{"line":406,"column":5}},"loc":{"start":{"line":406,"column":29},"end":{"line":408,"column":5}},"line":406},"82":{"name":"(anonymous_82)","decl":{"start":{"line":409,"column":4},"end":{"line":409,"column":5}},"loc":{"start":{"line":409,"column":20},"end":{"line":411,"column":5}},"line":409},"83":{"name":"(anonymous_83)","decl":{"start":{"line":412,"column":4},"end":{"line":412,"column":5}},"loc":{"start":{"line":412,"column":29},"end":{"line":414,"column":5}},"line":412},"84":{"name":"(anonymous_84)","decl":{"start":{"line":415,"column":4},"end":{"line":415,"column":5}},"loc":{"start":{"line":415,"column":20},"end":{"line":417,"column":5}},"line":415},"85":{"name":"(anonymous_85)","decl":{"start":{"line":418,"column":4},"end":{"line":418,"column":5}},"loc":{"start":{"line":418,"column":29},"end":{"line":420,"column":5}},"line":418},"86":{"name":"(anonymous_86)","decl":{"start":{"line":421,"column":4},"end":{"line":421,"column":5}},"loc":{"start":{"line":421,"column":20},"end":{"line":423,"column":5}},"line":421},"87":{"name":"(anonymous_87)","decl":{"start":{"line":424,"column":4},"end":{"line":424,"column":5}},"loc":{"start":{"line":424,"column":29},"end":{"line":426,"column":5}},"line":424},"88":{"name":"(anonymous_88)","decl":{"start":{"line":427,"column":4},"end":{"line":427,"column":5}},"loc":{"start":{"line":427,"column":21},"end":{"line":429,"column":5}},"line":427},"89":{"name":"(anonymous_89)","decl":{"start":{"line":430,"column":4},"end":{"line":430,"column":5}},"loc":{"start":{"line":430,"column":31},"end":{"line":432,"column":5}},"line":430},"90":{"name":"(anonymous_90)","decl":{"start":{"line":433,"column":4},"end":{"line":433,"column":5}},"loc":{"start":{"line":433,"column":21},"end":{"line":435,"column":5}},"line":433},"91":{"name":"(anonymous_91)","decl":{"start":{"line":436,"column":4},"end":{"line":436,"column":5}},"loc":{"start":{"line":436,"column":31},"end":{"line":438,"column":5}},"line":436},"92":{"name":"(anonymous_92)","decl":{"start":{"line":439,"column":4},"end":{"line":439,"column":5}},"loc":{"start":{"line":439,"column":21},"end":{"line":441,"column":5}},"line":439},"93":{"name":"(anonymous_93)","decl":{"start":{"line":442,"column":4},"end":{"line":442,"column":5}},"loc":{"start":{"line":442,"column":31},"end":{"line":444,"column":5}},"line":442},"94":{"name":"(anonymous_94)","decl":{"start":{"line":445,"column":4},"end":{"line":445,"column":5}},"loc":{"start":{"line":445,"column":21},"end":{"line":447,"column":5}},"line":445},"95":{"name":"(anonymous_95)","decl":{"start":{"line":448,"column":4},"end":{"line":448,"column":5}},"loc":{"start":{"line":448,"column":31},"end":{"line":450,"column":5}},"line":448},"96":{"name":"(anonymous_96)","decl":{"start":{"line":451,"column":4},"end":{"line":451,"column":5}},"loc":{"start":{"line":451,"column":23},"end":{"line":453,"column":5}},"line":451},"97":{"name":"(anonymous_97)","decl":{"start":{"line":454,"column":4},"end":{"line":454,"column":5}},"loc":{"start":{"line":454,"column":35},"end":{"line":456,"column":5}},"line":454},"98":{"name":"(anonymous_98)","decl":{"start":{"line":457,"column":4},"end":{"line":457,"column":5}},"loc":{"start":{"line":457,"column":23},"end":{"line":459,"column":5}},"line":457},"99":{"name":"(anonymous_99)","decl":{"start":{"line":460,"column":4},"end":{"line":460,"column":5}},"loc":{"start":{"line":460,"column":35},"end":{"line":462,"column":5}},"line":460},"100":{"name":"(anonymous_100)","decl":{"start":{"line":463,"column":4},"end":{"line":463,"column":5}},"loc":{"start":{"line":463,"column":23},"end":{"line":465,"column":5}},"line":463},"101":{"name":"(anonymous_101)","decl":{"start":{"line":466,"column":4},"end":{"line":466,"column":5}},"loc":{"start":{"line":466,"column":35},"end":{"line":468,"column":5}},"line":466},"102":{"name":"(anonymous_102)","decl":{"start":{"line":469,"column":4},"end":{"line":469,"column":5}},"loc":{"start":{"line":469,"column":23},"end":{"line":471,"column":5}},"line":469},"103":{"name":"(anonymous_103)","decl":{"start":{"line":472,"column":4},"end":{"line":472,"column":5}},"loc":{"start":{"line":472,"column":35},"end":{"line":474,"column":5}},"line":472},"104":{"name":"(anonymous_104)","decl":{"start":{"line":475,"column":4},"end":{"line":475,"column":5}},"loc":{"start":{"line":475,"column":19},"end":{"line":477,"column":5}},"line":475},"105":{"name":"(anonymous_105)","decl":{"start":{"line":478,"column":4},"end":{"line":478,"column":5}},"loc":{"start":{"line":478,"column":27},"end":{"line":480,"column":5}},"line":478},"106":{"name":"(anonymous_106)","decl":{"start":{"line":481,"column":4},"end":{"line":481,"column":5}},"loc":{"start":{"line":481,"column":19},"end":{"line":483,"column":5}},"line":481},"107":{"name":"(anonymous_107)","decl":{"start":{"line":484,"column":4},"end":{"line":484,"column":5}},"loc":{"start":{"line":484,"column":27},"end":{"line":486,"column":5}},"line":484},"108":{"name":"(anonymous_108)","decl":{"start":{"line":487,"column":4},"end":{"line":487,"column":5}},"loc":{"start":{"line":487,"column":19},"end":{"line":489,"column":5}},"line":487},"109":{"name":"(anonymous_109)","decl":{"start":{"line":490,"column":4},"end":{"line":490,"column":5}},"loc":{"start":{"line":490,"column":27},"end":{"line":492,"column":5}},"line":490},"110":{"name":"(anonymous_110)","decl":{"start":{"line":493,"column":4},"end":{"line":493,"column":5}},"loc":{"start":{"line":493,"column":19},"end":{"line":495,"column":5}},"line":493},"111":{"name":"(anonymous_111)","decl":{"start":{"line":496,"column":4},"end":{"line":496,"column":5}},"loc":{"start":{"line":496,"column":27},"end":{"line":498,"column":5}},"line":496}},"branchMap":{"0":{"loc":{"start":{"line":58,"column":4},"end":{"line":60,"column":5}},"type":"if","locations":[{"start":{"line":58,"column":4},"end":{"line":60,"column":5}},{"start":{"line":58,"column":4},"end":{"line":60,"column":5}}],"line":58},"1":{"loc":{"start":{"line":58,"column":8},"end":{"line":58,"column":69}},"type":"binary-expr","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":17}},{"start":{"line":58,"column":21},"end":{"line":58,"column":69}}],"line":58},"2":{"loc":{"start":{"line":73,"column":43},"end":{"line":73,"column":83}},"type":"cond-expr","locations":[{"start":{"line":73,"column":75},"end":{"line":73,"column":78}},{"start":{"line":73,"column":81},"end":{"line":73,"column":83}}],"line":73},"3":{"loc":{"start":{"line":182,"column":23},"end":{"line":182,"column":124}},"type":"cond-expr","locations":[{"start":{"line":182,"column":110},"end":{"line":182,"column":116}},{"start":{"line":182,"column":119},"end":{"line":182,"column":124}}],"line":182},"4":{"loc":{"start":{"line":182,"column":23},"end":{"line":182,"column":107}},"type":"binary-expr","locations":[{"start":{"line":182,"column":23},"end":{"line":182,"column":90}},{"start":{"line":182,"column":94},"end":{"line":182,"column":107}}],"line":182},"5":{"loc":{"start":{"line":184,"column":12},"end":{"line":186,"column":13}},"type":"if","locations":[{"start":{"line":184,"column":12},"end":{"line":186,"column":13}},{"start":{"line":184,"column":12},"end":{"line":186,"column":13}}],"line":184}},"s":{"0":1,"1":1,"2":1,"3":1,"4":599,"5":1,"6":598,"7":13,"8":2,"9":2,"10":2,"11":2,"12":2,"13":98,"14":2,"15":2,"16":3,"17":3,"18":3,"19":3,"20":3,"21":3,"22":12,"23":12,"24":12,"25":12,"26":12,"27":12,"28":12,"29":12,"30":12,"31":12,"32":12,"33":3,"34":2,"35":2,"36":2,"37":2,"38":2,"39":2,"40":2,"41":2,"42":2,"43":2,"44":8,"45":8,"46":8,"47":8,"48":8,"49":8,"50":8,"51":8,"52":8,"53":8,"54":8,"55":8,"56":2,"57":2,"58":2,"59":2,"60":2,"61":98,"62":98,"63":98,"64":98,"65":2,"66":211,"67":2,"68":11,"69":2,"70":11,"71":9,"72":13,"73":8,"74":11,"75":4,"76":11,"77":9,"78":13,"79":4,"80":11,"81":9,"82":13,"83":9,"84":13,"85":9,"86":13,"87":9,"88":13,"89":9,"90":13,"91":9,"92":12,"93":9,"94":12,"95":9,"96":12,"97":9,"98":12,"99":9,"100":12,"101":9,"102":12,"103":9,"104":12,"105":9,"106":12,"107":9,"108":12,"109":9,"110":12,"111":9,"112":12,"113":9,"114":12,"115":9,"116":12,"117":9,"118":12,"119":9,"120":12,"121":9,"122":12,"123":9,"124":12,"125":9,"126":12,"127":9,"128":12,"129":9,"130":12,"131":9,"132":12,"133":9,"134":12,"135":9,"136":12,"137":9,"138":12,"139":9,"140":12,"141":9,"142":12,"143":9,"144":12,"145":9,"146":12,"147":9,"148":12,"149":9,"150":12,"151":9,"152":12,"153":6,"154":11,"155":6,"156":11,"157":6,"158":11,"159":6,"160":11,"161":9,"162":12,"163":9,"164":12,"165":9,"166":12,"167":9,"168":12,"169":1},"f":{"0":599,"1":13,"2":2,"3":98,"4":3,"5":3,"6":2,"7":2,"8":98,"9":211,"10":2,"11":11,"12":2,"13":11,"14":9,"15":13,"16":8,"17":11,"18":4,"19":11,"20":9,"21":13,"22":4,"23":11,"24":9,"25":13,"26":9,"27":13,"28":9,"29":13,"30":9,"31":13,"32":9,"33":13,"34":9,"35":12,"36":9,"37":12,"38":9,"39":12,"40":9,"41":12,"42":9,"43":12,"44":9,"45":12,"46":9,"47":12,"48":9,"49":12,"50":9,"51":12,"52":9,"53":12,"54":9,"55":12,"56":9,"57":12,"58":9,"59":12,"60":9,"61":12,"62":9,"63":12,"64":9,"65":12,"66":9,"67":12,"68":9,"69":12,"70":9,"71":12,"72":9,"73":12,"74":9,"75":12,"76":9,"77":12,"78":9,"79":12,"80":9,"81":12,"82":9,"83":12,"84":9,"85":12,"86":9,"87":12,"88":9,"89":12,"90":9,"91":12,"92":9,"93":12,"94":9,"95":12,"96":6,"97":11,"98":6,"99":11,"100":6,"101":11,"102":6,"103":11,"104":9,"105":12,"106":9,"107":12,"108":9,"109":12,"110":9,"111":12},"b":{"0":[1,598],"1":[599,599],"2":[96,2],"3":[0,98],"4":[98,98],"5":[98,0]},"inputSourceMap":{"version":3,"file":"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/GenmInstrument.ts","sources":["/Users/twoxaa/projects/2xAA/genmdm-parser/lib/GenmInstrument.ts"],"names":[],"mappings":";;;AACA,6DAAuD;AAcvD,MAAM,wBAAwB,GAAgC;IAC5D,eAAe,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE;IAC9B,SAAS,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC9C,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC1C,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC1C,UAAU,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,OAAO,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC5C,aAAa,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IACpD,aAAa,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IACpD,aAAa,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IACpD,aAAa,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IACpD,SAAS,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC9C,SAAS,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC9C,SAAS,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC9C,SAAS,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC9C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC/C,WAAW,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IACjD,WAAW,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IACjD,WAAW,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IACjD,WAAW,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,E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","sourcesContent":["import { GenMInstrumentValues } from \"./main.d\";\nimport { mapToCCRange } from \"./utils/map-to-cc-range\";\n\ninterface GenMdmMidiParameter {\n  cc: number;\n}\ninterface GenmInstrumentParameter {\n  size: number;\n  genMdmMidi?: GenMdmMidiParameter;\n}\n\ninterface GenmInstrumentParameterList {\n  [key: string]: GenmInstrumentParameter;\n}\n\nconst genmInstrumentParameters: GenmInstrumentParameterList = {\n  instrumentIndex: { size: 128 },\n  algorithm: { size: 8, genMdmMidi: { cc: 14 } },\n  lfoFm: { size: 8, genMdmMidi: { cc: 75 } },\n  lfoAm: { size: 8, genMdmMidi: { cc: 76 } },\n  fmFeedback: { size: 8, genMdmMidi: { cc: 15 } },\n  panning: { size: 4, genMdmMidi: { cc: 77 } },\n  op1TotalLevel: { size: 128, genMdmMidi: { cc: 16 } },\n  op2TotalLevel: { size: 128, genMdmMidi: { cc: 17 } },\n  op3TotalLevel: { size: 128, genMdmMidi: { cc: 18 } },\n  op4TotalLevel: { size: 128, genMdmMidi: { cc: 19 } },\n  op1Detune: { size: 8, genMdmMidi: { cc: 24 } },\n  op2Detune: { size: 8, genMdmMidi: { cc: 25 } },\n  op3Detune: { size: 8, genMdmMidi: { cc: 26 } },\n  op4Detune: { size: 8, genMdmMidi: { cc: 27 } },\n  op1Attack: { size: 32, genMdmMidi: { cc: 43 } },\n  op2Attack: { size: 32, genMdmMidi: { cc: 44 } },\n  op3Attack: { size: 32, genMdmMidi: { cc: 45 } },\n  op4Attack: { size: 32, genMdmMidi: { cc: 46 } },\n  op1Decay1: { size: 32, genMdmMidi: { cc: 47 } },\n  op2Decay1: { size: 32, genMdmMidi: { cc: 48 } },\n  op3Decay1: { size: 32, genMdmMidi: { cc: 49 } },\n  op4Decay1: { size: 32, genMdmMidi: { cc: 50 } },\n  op1Decay2: { size: 32, genMdmMidi: { cc: 51 } },\n  op2Decay2: { size: 32, genMdmMidi: { cc: 52 } },\n  op3Decay2: { size: 32, genMdmMidi: { cc: 53 } },\n  op4Decay2: { size: 32, genMdmMidi: { cc: 54 } },\n  op1Multiple: { size: 16, genMdmMidi: { cc: 20 } },\n  op2Multiple: { size: 16, genMdmMidi: { cc: 21 } },\n  op3Multiple: { size: 16, genMdmMidi: { cc: 22 } },\n  op4Multiple: { size: 16, genMdmMidi: { cc: 23 } },\n  op1RateScaling: { size: 4, genMdmMidi: { cc: 39 } },\n  op2RateScaling: { size: 4, genMdmMidi: { cc: 40 } },\n  op3RateScaling: { size: 4, genMdmMidi: { cc: 41 } },\n  op4RateScaling: { size: 4, genMdmMidi: { cc: 42 } },\n  op1Level2: { size: 16, genMdmMidi: { cc: 55 } },\n  op2Level2: { size: 16, genMdmMidi: { cc: 56 } },\n  op3Level2: { size: 16, genMdmMidi: { cc: 57 } },\n  op4Level2: { size: 16, genMdmMidi: { cc: 58 } },\n  op1Release: { size: 16, genMdmMidi: { cc: 59 } },\n  op2Release: { size: 16, genMdmMidi: { cc: 60 } },\n  op3Release: { size: 16, genMdmMidi: { cc: 61 } },\n  op4Release: { size: 16, genMdmMidi: { cc: 62 } },\n  op1LfoEnable: { size: 2, genMdmMidi: { cc: 70 } },\n  op2LfoEnable: { size: 2, genMdmMidi: { cc: 71 } },\n  op3LfoEnable: { size: 2, genMdmMidi: { cc: 72 } },\n  op4LfoEnable: { size: 2, genMdmMidi: { cc: 73 } },\n  op1SSGEG: { size: 16, genMdmMidi: { cc: 90 } },\n  op2SSGEG: { size: 16, genMdmMidi: { cc: 91 } },\n  op3SSGEG: { size: 16, genMdmMidi: { cc: 92 } },\n  op4SSGEG: { size: 16, genMdmMidi: { cc: 93 } },\n};\n\nfunction rangeCheck(parameter: string, value: number): number {\n  if (value < 0 || value > genmInstrumentParameters[parameter].size) {\n    throw new Error(\n      `${parameter} must be in range of 0 and ${\n        genmInstrumentParameters[parameter].size - 1\n      }. got ${value}`\n    );\n  }\n\n  return value;\n}\n\nexport class GenmInstrument {\n  [key: string]:\n    | string\n    | number\n    | GenMInstrumentValues\n    | GenmInstrumentParameterList\n    | (() => string)\n    | (() => Uint8Array)\n    | (() => GenMInstrumentValues)\n    | (() => Map<number, number>);\n\n  instrument = {} as GenMInstrumentValues;\n\n  toString(): string {\n    const parameters: string[] = Object.keys(this.genmInstrumentParameters);\n    parameters.shift();\n\n    let string = \"\";\n    string += `${this.instrumentIndex}, `;\n\n    parameters.forEach((parameter: string, index: number) => {\n      string += `${this[parameter]}${index < parameters.length - 1 ? \" \" : \"\"}`;\n    });\n\n    string += ` ${this.instrumentName};`;\n\n    return string;\n  }\n\n  toJSON(): GenMInstrumentValues {\n    return this.instrument;\n  }\n\n  /* TFI format\n   * ----------\n   * Thank goodness for https://plutiedev.com/format-tfi\n   * as this isn't documented anywhere else!\n   *\n   *\n   *  Index          | Description   | Range\n   * ----------------|---------------|---------\n   *   0             | Algorithm     | 0 - 7\n   *   1             | Feedback      | 0 - 7\n   *   2, 12, 22, 32 | Multiplier    | 0 - 15\n   *   3, 13, 23, 33 | Detune        | 0 - 7\n   *   4, 14, 24, 34 | Total Level   | 0 - 127\n   *   5, 15, 25, 35 | Rate Scaling  | 0 - 3\n   *   6, 16, 26, 36 | Attack Rate   | 0 - 31\n   *   7, 17, 27, 37 | Decay Rate 1  | 0 - 31\n   *   8, 18, 28, 38 | Decay Rate 2  | 0 - 31\n   *   9, 19, 29, 39 | Release Rate  | 0 - 15\n   *  10, 20, 30, 40 | Sustain Level | 0 - 15\n   *  11, 21, 31, 41 | SSG-EG        | 0 - 15 [0-7 disabled (set to 0), 8-15 enabled]\n   */\n  toTFI(): Uint8Array {\n    const tfiData = new Uint8Array(42);\n    // algorithm\n    tfiData[0] = this.algorithm;\n    // feedback\n    tfiData[1] = this.fmFeedback;\n\n    for (let i = 0; i < 4; ++i) {\n      const index = i + 1;\n\n      tfiData[2 + 10 * i] = Number(this[`op${index}Multiple`]);\n      tfiData[3 + 10 * i] = Number(this[`op${index}Detune`]);\n      tfiData[4 + 10 * i] = 127 - Number(this[`op${index}TotalLevel`]);\n      tfiData[5 + 10 * i] = Number(this[`op${index}RateScaling`]);\n      tfiData[6 + 10 * i] = Number(this[`op${index}Attack`]);\n      tfiData[7 + 10 * i] = Number(this[`op${index}Decay1`]);\n      tfiData[8 + 10 * i] = Number(this[`op${index}Decay2`]);\n      tfiData[9 + 10 * i] = Number(this[`op${index}Release`]);\n      tfiData[10 + 10 * i] = Number(this[`op${index}Level2`]);\n      tfiData[11 + 10 * i] = Number(this[`op${index}SSGEG`]);\n    }\n\n    return tfiData;\n  }\n\n  /* DMP format\n   * 0x00 1 Byte:  FILE_VERSION, must be 11 (0x0B) for DefleMask v0.12.0\n   * 0x01 1 Byte:  System:\n   *               SYSTEM_GENESIS  0x02\n   * 0x02 1 Byte:  Instrument Mode (1=FM, 0=STANDARD)\n   *\n   * // IF INSTRUMENT MODE IS FM ( = 1)\n   * 0x03 1 Byte: LFO (FMS on YM2612, PMS on YM2151)\n   * 0x04 1 Byte: FB\n   * 0x05 1 Byte: ALG\n   * 0x06 1 Byte: LFO2 (AMS on YM2612, AMS on YM2151)\n   *\n   *        Repeat this TOTAL_OPERATORS times\n   * 0x07 + n  1 Byte: MULT\n   * 0x08 + n  1 Byte: TL\n   * 0x09 + n  1 Byte: AR\n   * 0x0A + n  1 Byte: DR\n   * 0x0B + n  1 Byte: SL\n   * 0x0C + n  1 Byte: RR\n   * 0x0D + n  1 Byte: AM\n   * 0x0E + n  1 Byte: RS\n   * 0x0F + n  1 Byte: DT (DT2<<4 | DT on YM2151)\n   * 0x10 + n  1 Byte: D2R\n   * 0x11 + n  1 Byte: SSGEG_Enabled <<3 | SSGEG\n   */\n  toDMP(): Uint8Array {\n    const dmpData = new Uint8Array(32);\n\n    // file version\n    dmpData[0x00] = 0x0b;\n    // system\n    dmpData[0x01] = 0x02;\n    // instrument Mode\n    dmpData[0x02] = 0x01;\n\n    dmpData[0x03] = this.lfoFm;\n    dmpData[0x04] = this.fmFeedback;\n    dmpData[0x05] = this.algorithm;\n    dmpData[0x06] = this.lfoFm;\n\n    for (let i = 0; i < 4; ++i) {\n      const index = i + 1;\n\n      dmpData[0x07 + 11 * i] = Number(this[`op${index}Multiple`]);\n      dmpData[0x08 + 11 * i] = 127 - Number(this[`op${index}TotalLevel`]);\n      dmpData[0x09 + 11 * i] = Number(this[`op${index}Attack`]);\n      dmpData[0x0a + 11 * i] = Number(this[`op${index}Decay1`]);\n      dmpData[0x0b + 11 * i] = Number(this[`op${index}Level2`]);\n      dmpData[0x0c + 11 * i] = Number(this[`op${index}Release`]);\n      dmpData[0x0d + 11 * i] = Number(this[`op${index}LfoEnable`]);\n      dmpData[0x0e + 11 * i] = Number(this[`op${index}RateScaling`]);\n      dmpData[0x0f + 11 * i] = Number(this[`op${index}Detune`]);\n      dmpData[0x10 + 11 * i] = Number(this[`op${index}Decay2`]);\n      dmpData[0x11 + 11 * i] = Number(this[`op${index}SSGEG`]);\n    }\n\n    return dmpData;\n  }\n\n  toGenMDM(): Map<number, number> {\n    const map = new Map<number, number>();\n    const parameters: string[] = Object.keys(this.genmInstrumentParameters);\n    parameters.shift();\n\n    parameters.forEach((parameter: string) => {\n      const cc = this.genmInstrumentParameters[parameter].genMdmMidi?.cc;\n      const size = this.genmInstrumentParameters[parameter].size - 1;\n\n      if (cc) {\n        map.set(cc, mapToCCRange(Number(this[parameter]), size));\n      }\n    });\n\n    return map;\n  }\n\n  get genmInstrumentParameters(): GenmInstrumentParameterList {\n    return genmInstrumentParameters;\n  }\n\n  get instrumentName(): string {\n    return this.instrument.instrumentName;\n  }\n\n  set instrumentName(name: string) {\n    this.instrument.instrumentName = name;\n  }\n\n  get instrumentIndex(): number {\n    return this.instrument.instrumentIndex;\n  }\n\n  set instrumentIndex(index: number) {\n    this.instrument.instrumentIndex = rangeCheck(\"instrumentIndex\", index);\n  }\n  get algorithm(): number {\n    return this.instrument.algorithm;\n  }\n\n  set algorithm(algorithm: number) {\n    this.instrument.algorithm = rangeCheck(\"algorithm\", algorithm);\n  }\n\n  get lfoFm(): number {\n    return this.instrument.lfoFm;\n  }\n\n  set lfoFm(lfoFm: number) {\n    this.instrument.lfoFm = rangeCheck(\"lfoFm\", lfoFm);\n  }\n\n  get lfoAm(): number {\n    return this.instrument.lfoAm;\n  }\n\n  set lfoAm(lfoAm: number) {\n    this.instrument.lfoAm = rangeCheck(\"lfoAm\", lfoAm);\n  }\n\n  get fmFeedback(): number {\n    return this.instrument.fmFeedback;\n  }\n\n  set fmFeedback(fmFeedback: number) {\n    this.instrument.fmFeedback = rangeCheck(\"fmFeedback\", fmFeedback);\n  }\n  get panning(): number {\n    return this.instrument.panning;\n  }\n\n  set panning(panning: number) {\n    this.instrument.panning = rangeCheck(\"panning\", panning);\n  }\n  get op1TotalLevel(): number {\n    return this.instrument.op1TotalLevel;\n  }\n\n  set op1TotalLevel(op1TotalLevel: number) {\n    this.instrument.op1TotalLevel = rangeCheck(\"op1TotalLevel\", op1TotalLevel);\n  }\n\n  get op2TotalLevel(): number {\n    return this.instrument.op2TotalLevel;\n  }\n\n  set op2TotalLevel(op2TotalLevel: number) {\n    this.instrument.op2TotalLevel = rangeCheck(\"op2TotalLevel\", op2TotalLevel);\n  }\n\n  get op3TotalLevel(): number {\n    return this.instrument.op3TotalLevel;\n  }\n\n  set op3TotalLevel(op3TotalLevel: number) {\n    this.instrument.op3TotalLevel = rangeCheck(\"op3TotalLevel\", op3TotalLevel);\n  }\n\n  get op4TotalLevel(): number {\n    return this.instrument.op4TotalLevel;\n  }\n\n  set op4TotalLevel(op4TotalLevel: number) {\n    this.instrument.op4TotalLevel = rangeCheck(\"op4TotalLevel\", op4TotalLevel);\n  }\n\n  get op1Detune(): number {\n    return this.instrument.op1Detune;\n  }\n\n  set op1Detune(op1Detune: number) {\n    this.instrument.op1Detune = rangeCheck(\"op1Detune\", op1Detune);\n  }\n\n  get op2Detune(): number {\n    return this.instrument.op2Detune;\n  }\n\n  set op2Detune(op2Detune: number) {\n    this.instrument.op2Detune = rangeCheck(\"op2Detune\", op2Detune);\n  }\n\n  get op3Detune(): number {\n    return this.instrument.op3Detune;\n  }\n\n  set op3Detune(op3Detune: number) {\n    this.instrument.op3Detune = rangeCheck(\"op3Detune\", op3Detune);\n  }\n\n  get op4Detune(): number {\n    return this.instrument.op4Detune;\n  }\n\n  set op4Detune(op4Detune: number) {\n    this.instrument.op4Detune = rangeCheck(\"op4Detune\", op4Detune);\n  }\n\n  get op1Attack(): number {\n    return this.instrument.op1Attack;\n  }\n\n  set op1Attack(op1Attack: number) {\n    this.instrument.op1Attack = rangeCheck(\"op1Attack\", op1Attack);\n  }\n\n  get op2Attack(): number {\n    return this.instrument.op2Attack;\n  }\n\n  set op2Attack(op2Attack: number) {\n    this.instrument.op2Attack = rangeCheck(\"op2Attack\", op2Attack);\n  }\n\n  get op3Attack(): number {\n    return this.instrument.op3Attack;\n  }\n\n  set op3Attack(op3Attack: number) {\n    this.instrument.op3Attack = rangeCheck(\"op3Attack\", op3Attack);\n  }\n\n  get op4Attack(): number {\n    return this.instrument.op4Attack;\n  }\n\n  set op4Attack(op4Attack: number) {\n    this.instrument.op4Attack = rangeCheck(\"op4Attack\", op4Attack);\n  }\n\n  get op1Decay1(): number {\n    return this.instrument.op1Decay1;\n  }\n\n  set op1Decay1(op1Decay1: number) {\n    this.instrument.op1Decay1 = rangeCheck(\"op1Decay1\", op1Decay1);\n  }\n\n  get op2Decay1(): number {\n    return this.instrument.op2Decay1;\n  }\n\n  set op2Decay1(op2Decay1: number) {\n    this.instrument.op2Decay1 = rangeCheck(\"op2Decay1\", op2Decay1);\n  }\n\n  get op3Decay1(): number {\n    return this.instrument.op3Decay1;\n  }\n\n  set op3Decay1(op3Decay1: number) {\n    this.instrument.op3Decay1 = rangeCheck(\"op3Decay1\", op3Decay1);\n  }\n\n  get op4Decay1(): number {\n    return this.instrument.op4Decay1;\n  }\n\n  set op4Decay1(op4Decay1: number) {\n    this.instrument.op4Decay1 = rangeCheck(\"op4Decay1\", op4Decay1);\n  }\n\n  get op1Decay2(): number {\n    return this.instrument.op1Decay2;\n  }\n\n  set op1Decay2(op1Decay2: number) {\n    this.instrument.op1Decay2 = rangeCheck(\"op1Decay2\", op1Decay2);\n  }\n\n  get op2Decay2(): number {\n    return this.instrument.op2Decay2;\n  }\n\n  set op2Decay2(op2Decay2: number) {\n    this.instrument.op2Decay2 = rangeCheck(\"op2Decay2\", op2Decay2);\n  }\n\n  get op3Decay2(): number {\n    return this.instrument.op3Decay2;\n  }\n\n  set op3Decay2(op3Decay2: number) {\n    this.instrument.op3Decay2 = rangeCheck(\"op3Decay2\", op3Decay2);\n  }\n\n  get op4Decay2(): number {\n    return this.instrument.op4Decay2;\n  }\n\n  set op4Decay2(op4Decay2: number) {\n    this.instrument.op4Decay2 = rangeCheck(\"op4Decay2\", op4Decay2);\n  }\n\n  get op1Multiple(): number {\n    return this.instrument.op1Multiple;\n  }\n\n  set op1Multiple(op1Multiple: number) {\n    this.instrument.op1Multiple = rangeCheck(\"op1Multiple\", op1Multiple);\n  }\n\n  get op2Multiple(): number {\n    return this.instrument.op2Multiple;\n  }\n\n  set op2Multiple(op2Multiple: number) {\n    this.instrument.op2Multiple = rangeCheck(\"op2Multiple\", op2Multiple);\n  }\n\n  get op3Multiple(): number {\n    return this.instrument.op3Multiple;\n  }\n\n  set op3Multiple(op3Multiple: number) {\n    this.instrument.op3Multiple = rangeCheck(\"op3Multiple\", op3Multiple);\n  }\n\n  get op4Multiple(): number {\n    return this.instrument.op4Multiple;\n  }\n\n  set op4Multiple(op4Multiple: number) {\n    this.instrument.op4Multiple = rangeCheck(\"op4Multiple\", op4Multiple);\n  }\n\n  get op1RateScaling(): number {\n    return this.instrument.op1RateScaling;\n  }\n\n  set op1RateScaling(op1RateScaling: number) {\n    this.instrument.op1RateScaling = rangeCheck(\n      \"op1RateScaling\",\n      op1RateScaling\n    );\n  }\n\n  get op2RateScaling(): number {\n    return this.instrument.op2RateScaling;\n  }\n\n  set op2RateScaling(op2RateScaling: number) {\n    this.instrument.op2RateScaling = rangeCheck(\n      \"op2RateScaling\",\n      op2RateScaling\n    );\n  }\n\n  get op3RateScaling(): number {\n    return this.instrument.op3RateScaling;\n  }\n\n  set op3RateScaling(op3RateScaling: number) {\n    this.instrument.op3RateScaling = rangeCheck(\n      \"op3RateScaling\",\n      op3RateScaling\n    );\n  }\n\n  get op4RateScaling(): number {\n    return this.instrument.op4RateScaling;\n  }\n\n  set op4RateScaling(op4RateScaling: number) {\n    this.instrument.op4RateScaling = rangeCheck(\n      \"op4RateScaling\",\n      op4RateScaling\n    );\n  }\n\n  get op1Level2(): number {\n    return this.instrument.op1Level2;\n  }\n\n  set op1Level2(op1Level2: number) {\n    this.instrument.op1Level2 = rangeCheck(\"op1Level2\", op1Level2);\n  }\n\n  get op2Level2(): number {\n    return this.instrument.op2Level2;\n  }\n\n  set op2Level2(op2Level2: number) {\n    this.instrument.op2Level2 = rangeCheck(\"op2Level2\", op2Level2);\n  }\n\n  get op3Level2(): number {\n    return this.instrument.op3Level2;\n  }\n\n  set op3Level2(op3Level2: number) {\n    this.instrument.op3Level2 = rangeCheck(\"op3Level2\", op3Level2);\n  }\n\n  get op4Level2(): number {\n    return this.instrument.op4Level2;\n  }\n\n  set op4Level2(op4Level2: number) {\n    this.instrument.op4Level2 = rangeCheck(\"op4Level2\", op4Level2);\n  }\n\n  get op1Release(): number {\n    return this.instrument.op1Release;\n  }\n\n  set op1Release(op1Release: number) {\n    this.instrument.op1Release = rangeCheck(\"op1Release\", op1Release);\n  }\n\n  get op2Release(): number {\n    return this.instrument.op2Release;\n  }\n\n  set op2Release(op2Release: number) {\n    this.instrument.op2Release = rangeCheck(\"op2Release\", op2Release);\n  }\n\n  get op3Release(): number {\n    return this.instrument.op3Release;\n  }\n\n  set op3Release(op3Release: number) {\n    this.instrument.op3Release = rangeCheck(\"op3Release\", op3Release);\n  }\n\n  get op4Release(): number {\n    return this.instrument.op4Release;\n  }\n\n  set op4Release(op4Release: number) {\n    this.instrument.op4Release = rangeCheck(\"op4Release\", op4Release);\n  }\n\n  get op1LfoEnable(): number {\n    return this.instrument.op1LfoEnable;\n  }\n\n  set op1LfoEnable(op1LfoEnable: number) {\n    this.instrument.op1LfoEnable = rangeCheck(\"op1LfoEnable\", op1LfoEnable);\n  }\n\n  get op2LfoEnable(): number {\n    return this.instrument.op2LfoEnable;\n  }\n\n  set op2LfoEnable(op2LfoEnable: number) {\n    this.instrument.op2LfoEnable = rangeCheck(\"op2LfoEnable\", op2LfoEnable);\n  }\n\n  get op3LfoEnable(): number {\n    return this.instrument.op3LfoEnable;\n  }\n\n  set op3LfoEnable(op3LfoEnable: number) {\n    this.instrument.op3LfoEnable = rangeCheck(\"op3LfoEnable\", op3LfoEnable);\n  }\n\n  get op4LfoEnable(): number {\n    return this.instrument.op4LfoEnable;\n  }\n\n  set op4LfoEnable(op4LfoEnable: number) {\n    this.instrument.op4LfoEnable = rangeCheck(\"op4LfoEnable\", op4LfoEnable);\n  }\n\n  get op1SSGEG(): number {\n    return this.instrument.op1SSGEG;\n  }\n\n  set op1SSGEG(op1SSGEG: number) {\n    this.instrument.op1SSGEG = rangeCheck(\"op1SSGEG\", op1SSGEG);\n  }\n\n  get op2SSGEG(): number {\n    return this.instrument.op2SSGEG;\n  }\n\n  set op2SSGEG(op2SSGEG: number) {\n    this.instrument.op2SSGEG = rangeCheck(\"op2SSGEG\", op2SSGEG);\n  }\n\n  get op3SSGEG(): number {\n    return this.instrument.op3SSGEG;\n  }\n\n  set op3SSGEG(op3SSGEG: number) {\n    this.instrument.op3SSGEG = rangeCheck(\"op3SSGEG\", op3SSGEG);\n  }\n\n  get op4SSGEG(): number {\n    return this.instrument.op4SSGEG;\n  }\n\n  set op4SSGEG(op4SSGEG: number) {\n    this.instrument.op4SSGEG = rangeCheck(\"op4SSGEG\", op4SSGEG);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e75900eb905a9ca05b1765dd55976690aacd9354","contentHash":"aba0ed0be053ce609afb47efeb98c77748c1593ee6013637d05a6ca9d831f23e"},"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/map-to-cc-range.ts":{"path":"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/map-to-cc-range.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":23},"end":{"line":4,"column":48}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":56}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":36}}},"fnMap":{"0":{"name":"mapToCCRange","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":21}},"loc":{"start":{"line":5,"column":36},"end":{"line":7,"column":1}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":98,"4":1},"f":{"0":98},"b":{},"inputSourceMap":{"version":3,"file":"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/map-to-cc-range.ts","sources":["/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/map-to-cc-range.ts"],"names":[],"mappings":";;;AAAA,iDAA4C;AAE5C,SAAgB,YAAY,CAAC,KAAa,EAAE,KAAa;IACvD,OAAO,yBAAU,CAAC,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;AACvC,CAAC;AAFD,oCAEC","sourcesContent":["import { mapToRange } from \"./map-to-range\";\n\nexport function mapToCCRange(value: number, range: number): number {\n  return mapToRange(value, range, 127);\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"818d7fa4d45a71250a35c14616c6802625b65be3","contentHash":"ed716f562d670882c970a5805576ec5c115291de909dccbd295abe4abf34a008"},"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/map-to-range.ts":{"path":"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/map-to-range.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":50}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":32}}},"fnMap":{"0":{"name":"mapToRange","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":19}},"loc":{"start":{"line":4,"column":44},"end":{"line":6,"column":1}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":98,"3":1},"f":{"0":98},"b":{},"inputSourceMap":{"version":3,"file":"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/map-to-range.ts","sources":["/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/map-to-range.ts"],"names":[],"mappings":";;;AAAA,SAAgB,UAAU,CACxB,KAAa,EACb,KAAa,EACb,QAAgB;IAEhB,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,QAAQ,CAAC,CAAC;AAChD,CAAC;AAND,gCAMC","sourcesContent":["export function mapToRange(\n  value: number,\n  range: number,\n  maxValue: number\n): number {\n  return Math.round((value / range) * maxValue);\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"018c01051a6c6bb346e1cd909f40b8f85fbc83ee","contentHash":"5c84ebd37acdffb5b4c00656b58d36b3477762a27199db4bff7423b109082565"},"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/register-unpack.ts":{"path":"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/register-unpack.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":138}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":47}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":52}},"4":{"start":{"line":9,"column":4},"end":{"line":9,"column":47}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":58}},"6":{"start":{"line":13,"column":4},"end":{"line":13,"column":47}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":60}},"8":{"start":{"line":17,"column":4},"end":{"line":17,"column":47}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":52}}},"fnMap":{"0":{"name":"unpackDetuneMultiple","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":29}},"loc":{"start":{"line":4,"column":37},"end":{"line":6,"column":1}},"line":4},"1":{"name":"unpackRateScalingAttack","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":32}},"loc":{"start":{"line":8,"column":40},"end":{"line":10,"column":1}},"line":8},"2":{"name":"unpackAmEnableFirstDecay","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":33}},"loc":{"start":{"line":12,"column":41},"end":{"line":14,"column":1}},"line":12},"3":{"name":"unpackSustainRelease","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":29}},"loc":{"start":{"line":16,"column":37},"end":{"line":18,"column":1}},"line":16}},"branchMap":{},"s":{"0":1,"1":1,"2":4,"3":1,"4":4,"5":1,"6":4,"7":1,"8":4,"9":1},"f":{"0":4,"1":4,"2":4,"3":4},"b":{},"inputSourceMap":{"version":3,"file":"/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/register-unpack.ts","sources":["/Users/twoxaa/projects/2xAA/genmdm-parser/lib/utils/register-unpack.ts"],"names":[],"mappings":";;;AAAA,SAAgB,oBAAoB,CAAC,KAAa;IAChD,OAAO,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,EAAE,KAAK,GAAG,IAAI,CAAC,CAAC;AAC7C,CAAC;AAFD,oDAEC;AAED,SAAgB,uBAAuB,CAAC,KAAa;IACnD,OAAO,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,EAAE,KAAK,GAAG,IAAI,CAAC,CAAC;AAC7C,CAAC;AAFD,0DAEC;AAED,SAAgB,wBAAwB,CAAC,KAAa;IACpD,OAAO,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,EAAE,KAAK,GAAG,IAAI,CAAC,CAAC;AAC7C,CAAC;AAFD,4DAEC;AAED,SAAgB,oBAAoB,CAAC,KAAa;IAChD,OAAO,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,EAAE,KAAK,GAAG,IAAI,CAAC,CAAC;AAC7C,CAAC;AAFD,oDAEC","sourcesContent":["export function unpackDetuneMultiple(value: number): [number, number] {\n  return [(value >> 4) & 0x07, value & 0x0f];\n}\n\nexport function unpackRateScalingAttack(value: number): [number, number] {\n  return [(value >> 6) & 0x03, value & 0x1f];\n}\n\nexport function unpackAmEnableFirstDecay(value: number): [number, number] {\n  return [(value >> 7) & 0x01, value & 0x1f];\n}\n\nexport function unpackSustainRelease(value: number): [number, number] {\n  return [(value >> 4) & 0x0f, value & 0x0f];\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"445d6edf3ee40930fab34e860d40daca8549df06","contentHash":"9a9ae895d52786e611c6dc0e7cffceeefd53ea9e27e7d3c7c92ab834a34d8457"}}